(window.webpackJsonp=window.webpackJsonp||[]).push([[21,97],{1003:function(t,e,r){"use strict";r.r(e);var o=r(108),n=r(125),c=r(413),l=r(643),d=r(634),m=r(134),f=r(655),h=r(414),v=r(301),k=r(69),w=r(110),_=(r(35),r(239),r(13),r(6),{name:"MasterRole",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loading:!0,workspace:[],workspaceAssign:[],allData:[],documentStatus:[],departments:[],itemSearch:[],searchStatus:"",searchItem:"",search:"",displayStyle:"card",form:{},defaultItem:{},options:{},headers:[{text:"Role Name",value:"name"},{text:"Description",value:"description"},{text:"Guard",value:"guard_name"},{text:"Action",value:"ACTIONS",align:"center"}]}},head:function(){return{title:"Tasks"}},computed:{formTitle:function(){return-1===this.editedIndex?"New Task":"Edit Task"},buttonTitle:function(){return-1===this.editedIndex?"Save":"Update"}},mounted:function(){this.refreshData()},methods:{refreshData:function(){this.getDepartments(),this.getWorkSpace()},newData:function(){this.editedIndex=-1,this.$refs.formTask.newData(this.form)},editItem:function(t){this.editedIndex=this.allData.indexOf(t),this.$refs.formTask.editItem(t)},emitData:function(data){this.documentStatus=data.documentStatus,this.itemSearch=data.itemSearch,this.searchStatus=data.searchStatus,this.searchItem=data.searchItem,this.search=data.search,this.filters=data.filters,this.getDataFromApi()},getWorkSpace:function(){var t=this;this.loading=!0,this.$axios.get("/api/tasks/workspace",{params:{displayStyle:this.displayStyle}}).then((function(e){t.loading=!1,t.workspace=e.data.data.rows,t.workspaceAssign=e.data.data.assignees,t.$refs.taskCardAssign.setWorkSpace(t.workspaceAssign),t.form=e.data.data.form}))},getDepartments:function(){var t=this;this.$axios.get("/api/master/departments").then((function(e){t.$auth.$storage.setLocalStorage("departments",e.data)}))},getDataFromApi:function(){var t=this;this.loading=!0;var e=this;this.$axios.get("/api/products/product",{params:{options:e.options,searchItem:e.searchItem,documentStatus:e.documentStatus,searchStatus:e.searchStatus,search:e.search}}).then((function(e){t.loading=!1,t.allData=e.data.data.rows,t.totalData=e.data.data.total,t.itemSearch=e.data.filter,t.form=Object.assign({},e.data.data.form),t.defaultItem=Object.assign({},e.data.data.form)})).catch((function(e){t.loading=!1,t.$swal({type:"error",title:"Error",text:e.response.data.message})}))}}}),y=r(62),component=Object(y.a)(_,(function(){var t=this,e=t._self._c;return e(f.a,{attrs:{wrap:""}},[e(h.a,[e(c.a,{attrs:{cols:"12"}},[e(k.a,{attrs:{color:"grey lighten-1",extended:"",flat:""}}),t._v(" "),e(n.a,{staticClass:"mx-auto",staticStyle:{"margin-top":"-64px"},attrs:{flat:"","max-width":"95%"}},[e(k.a,{attrs:{flat:""}},[e(w.a,{staticClass:"black--text"},[t._v(" Workspace ")]),t._v(" "),e(v.a),t._v(" "),e(o.a,{attrs:{icon:""}},[e(m.a,[t._v("mdi-magnify")])],1),t._v(" "),e(o.a,{attrs:{icon:""}},[e(m.a,[t._v("mdi-apps")])],1),t._v(" "),e(o.a,{attrs:{icon:"",color:"green",dark:""},on:{click:function(e){return t.newData()}}},[e(m.a,[t._v("mdi-plus-circle")])],1),t._v(" "),e(o.a,{attrs:{icon:""}},[e(m.a,[t._v("mdi-dots-vertical")])],1),t._v(" "),e(o.a,{attrs:{loading:t.loading,icon:""},on:{click:t.refreshData}},[e(m.a,[t._v("mdi-refresh")])],1)],1),t._v(" "),e(d.a),t._v(" "),e(l.a,{attrs:{fluid:""}},[e("TasksTaskCard",{ref:"taskCardAssign",attrs:{loading:t.loading,workspace:t.workspaceAssign,"workspace-title":"Assign To You"}})],1)],1),t._v(" "),e("LazyTasksFormTask",{ref:"formTask",attrs:{"form-data":t.form,"form-title":t.formTitle,"button-title":t.buttonTitle},on:{getDataFromApi:t.getWorkSpace}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TasksTaskCard:r(801).default})},655:function(t,e,r){"use strict";r(303);var o=r(304);e.a=Object(o.a)("layout")},801:function(t,e,r){"use strict";r.r(e);var o=r(778),n=r(125),c=r(52),l=r(413),d=r(634),m=r(134),f=r(414),h=r(841),v=r(301),k=r(759),w=(r(26),{name:"Taskcard",props:{loading:{type:Boolean,default:!0},pending:{type:Number,default:0},onProcess:{type:Number,default:0},complete:{type:Number,default:0},workspaceTitle:{type:String,default:null},workspace:{type:Array,default:function(){return[]}}},data:function(){return{workspaceRow:this.workspace}},methods:{setWorkSpace:function(t){this.workspaceRow=t},nextPage:function(t){return this.$router.push({path:"/tasks",query:{board:t.id,department:t.department,userId:this.$auth.user.id,display:"List"}})}}}),_=r(62),component=Object(_.a)(w,(function(){var t=this,e=t._self._c;return e(f.a,{attrs:{"no-gutters":""}},[t.workspaceTitle?e(l.a,{attrs:{cols:"12"}},[e(k.a,{staticClass:"font-weight-bold"},[t._v(t._s(t.workspaceTitle))])],1):t._e(),t._v(" "),t.workspaceTitle?e(l.a,{attrs:{cols:"12"}},[e(d.a)],1):t._e(),t._v(" "),e(l.a,{attrs:{cols:"12",md:"12"}},[e(f.a,{attrs:{"no-gutters":""}},[t._l(6,(function(r){return e(l.a,{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],key:r,staticClass:"pt-3 pa-3",attrs:{cols:"12",sm:"3",md:"2"}},[e(h.a,{attrs:{type:"card"}})],1)})),t._v(" "),t._l(t.workspaceRow,(function(r){return e(l.a,{key:r.department,staticClass:"pt-3 pa-3",attrs:{cols:"12",sm:"3",md:"3"}},[t.loading?t._e():e(n.a,{staticClass:"mx-auto",staticStyle:{cursor:"pointer"},attrs:{elevation:"0",color:"green"},on:{click:function(e){return t.nextPage(r)}}},[e(c.c,{staticStyle:{height:"90px"}},[e("span",{staticClass:"subtitle-1 white--text",staticStyle:{"text-transform":"capitalize !important"}},[t._v(t._s(r.department))])]),t._v(" "),e(d.a),t._v(" "),e(c.a,[e(v.a),t._v(" "),e(o.a,{attrs:{content:t.pending,value:t.pending,color:"green",overlap:""}},[e(m.a,{attrs:{large:""}},[t._v(" mdi-vuetify ")])],1),t._v(" "),e(o.a,{attrs:{content:t.onProcess,value:t.onProcess,color:"green",overlap:""}},[e(m.a,{attrs:{large:""}},[t._v(" mdi-vuetify ")])],1),t._v(" "),e(o.a,{attrs:{content:t.complete,value:t.complete,color:"green",overlap:""}},[e(m.a,{attrs:{large:""}},[t._v(" mdi-vuetify ")])],1)],1)],1)],1)}))],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);